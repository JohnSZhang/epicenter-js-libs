/**
 * Epicenter Javascript libraries
 * v1.2.0
 * https://github.com/forio/epicenter-js-libs
 */
!function(t,e,r){function n(r,i){if(!e[r]){if(!t[r]){var s="function"==typeof require&&require;if(!i&&s)return s(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var a=e[r]={exports:{}};t[r][0].call(a.exports,function(e){var o=t[r][1][e];return n(o?o:e)},a,a.exports)}return e[r].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(t){var e={util:{},factory:{},transport:{},store:{},service:{},manager:{strategy:{}}};e.util.query=t("./util/query-util"),e.util.makeSequence=t("./util/make-sequence"),e.util.run=t("./util/run-util"),e.util.classForm=t("./util/inherit"),e.factory.Transport=t("./transport/http-transport-factory"),e.transport.Ajax=t("./transport/ajax-http-transport"),e.service.URL=t("./service/url-config-service"),e.service.Config=t("./service/configuration-service"),e.service.Run=t("./service/run-api-service"),e.service.Variables=t("./service/variables-api-service"),e.service.Data=t("./service/data-api-service"),e.service.Auth=t("./service/auth-api-service"),e.store.Cookie=t("./store/cookie-store"),e.factory.Store=t("./store/store-factory"),e.manager.ScenarioManager=t("./managers/scenario-manager"),e.manager.RunManager=t("./managers/run-manager"),e.manager.strategy["always-new"]=t("./managers/run-strategies/always-new-strategy"),e.manager.strategy["conditional-creation"]=t("./managers/run-strategies/conditional-creation-strategy"),e.manager.strategy.identity=t("./managers/run-strategies/identity-strategy"),e.manager.strategy["new-if-missing"]=t("./managers/run-strategies/new-if-missing-strategy"),e.manager.strategy["new-if-missing"]=t("./managers/run-strategies/new-if-missing-strategy"),e.manager.strategy["new-if-persisted"]=t("./managers/run-strategies/new-if-persisted-strategy"),e.manager.strategy["new-if-initialized"]=t("./managers/run-strategies/new-if-initialized-strategy"),e.manager.AuthManager=t("./managers/auth-manager"),e.version="1.2.0",window.F=e},{"./util/query-util":2,"./util/make-sequence":3,"./util/run-util":4,"./util/inherit":5,"./transport/http-transport-factory":6,"./transport/ajax-http-transport":7,"./service/url-config-service":8,"./service/configuration-service":9,"./service/run-api-service":10,"./service/variables-api-service":11,"./service/data-api-service":12,"./service/auth-api-service":13,"./store/cookie-store":14,"./store/store-factory":15,"./managers/scenario-manager":16,"./managers/run-manager":17,"./managers/run-strategies/always-new-strategy":18,"./managers/run-strategies/conditional-creation-strategy":19,"./managers/run-strategies/identity-strategy":20,"./managers/run-strategies/new-if-missing-strategy":21,"./managers/run-strategies/new-if-persisted-strategy":22,"./managers/run-strategies/new-if-initialized-strategy":23,"./managers/auth-manager":24}],2:[function(t,e){"use strict";e.exports=function(){return{toMatrixFormat:function(t){if(null===t||void 0===t||""===t)return";";if("string"==typeof t||t instanceof String)return t;var e=[],r=["<",">","!"];$.each(t,function(t,n){("string"!=typeof n||-1===$.inArray($.trim(n).charAt(0),r))&&(n="="+n),e.push(t+n)});var n=";"+e.join(";");return n},toQueryFormat:function(t){if(null===t||void 0===t)return"";if("string"==typeof t||t instanceof String)return t;var e=[];$.each(t,function(t,r){$.isArray(r)&&(r=r.join(",")),$.isPlainObject(r)&&(r=JSON.stringify(r)),e.push(t+"="+r)});var r=e.join("&");return r},qsToObject:function(t){if(null===t||void 0===t||""===t)return{};var e=t.split("&"),r={};return $.each(e,function(t,e){var n=e.split("=")[0],o=e.split("=")[1];-1!==o.indexOf(",")&&(o=o.split(",")),r[n]=o}),r},mergeQS:function(t,e){var r=this.qsToObject(this.toQueryFormat(t)),n=this.qsToObject(this.toQueryFormat(e));return $.extend(!0,{},r,n)},addTrailingSlash:function(t){return t?"/"===t.charAt(t.length-1)?t:t+"/":""}}}()},{}],3:[function(t,e){"use strict";function r(t){if(t&&t.then)return t;var e=$.Deferred();return e.resolve(t),e.promise()}function n(){function t(n){var o=e.splice(0,1)[0];return o?r(o(n)).then(t):n}var e=Array.prototype.slice.apply(arguments);return function(e){return t(e).fail(n.fail)}}function o(t){var e={__calls:[],original:t,then:function(t){return this.__calls.push(t),this},start:function(){var t=this;return this.then(function(e){return t.__calls.length=0,e}),n.apply(null,this.__calls)()},fail:function(t){return n.fail=t,this}},r=function(t,e){var r=e[t].bind(e);return function(){var t=Array.prototype.slice.apply(arguments);return this.__calls.push(Function.bind.apply(r,[null].concat(t))),this}};for(var o in t)e[o]="function"==typeof t[o]?r(o,t):t[o];return e}e.exports=o},{}],4:[function(t,e){"use strict";e.exports=function(){return{normalizeOperations:function(t,e){e||(e=[]);var r={ops:[],args:[]},n=function(t){return null!==t&&void 0!==t?[].concat(t):[]},o=function(t,e){return e||(e={ops:[],args:[]}),$.each(t,function(t,r){e.ops.push(t),e.args.push(n(r))}),e},i=function(t,e){return e||(e={ops:[],args:[]}),e.ops.push(t.name),e.args.push(n(t.params)),e},s=function(t,e){return(t.name?i:o)(t,e)},a=function(t,e,r){return r||(r={ops:[],args:[]}),r.ops.push(t),r.args.push(n(e)),r},u=function(t,r,n){return n||(n={ops:[],args:[]}),$.each(t,function(t,r){$.isPlainObject(r)?s(r,n):a(r,e[t],n)}),n};return $.isPlainObject(t)?s(t,r):$.isArray(t)?u(t,e,r):a(t,e,r),r}}}()},{}],5:[function(t,e){"use strict";function r(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.__super=e.prototype,t.prototype.constructor=t}var n=function(t){for(var e,r=Array.prototype.slice.call(arguments,1),n=0;n<r.length;n++)if(e=r[n])for(var o in e)t[o]=e[o];return t};e.exports=function(t,e,o){var i,s=t;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return s.apply(this,arguments)},n(i,s,o),r(i,s),e&&n(i.prototype,e),i}},{}],8:[function(t,e){"use strict";e.exports=function(t){var e="https",r={"forio.com":"api.forio.com","foriodev.com":"api.epicenter.foriodev.com"},n={protocol:e,api:"",host:function(){var t=window.location.host;return t&&-1===t.indexOf("localhost")||(t="forio.com"),r[t]?r[t]:"api."+t}(),appPath:function(){var t=window.location.pathname.split("/");return t&&t[1]||""}(),accountPath:function(){var t="",e=window.location.pathname.split("/");return e&&"app"===e[1]&&(t=e[2]),t}(),projectPath:function(){var t="",e=window.location.pathname.split("/");return e&&"app"===e[1]&&(t=e[3]),t}(),getAPIPath:function(t){var e=["run","data"],r=this.protocol+"://"+this.host+"/"+t+"/";return-1!==$.inArray(t,e)&&(r+=this.accountPath+"/"+this.projectPath+"/"),r}};return $.extend(n,t),n}},{}],14:[function(t,e){"use strict";e.exports=function(t){var e={root:"/",domain:".forio.com"},r=$.extend({},e,t),n={set:function(t,e,n){var o=$.extend(!0,{},r,n),i=o.domain,s=o.root;return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+(i?"; domain="+i:"")+(s?"; path="+s:""),e},get:function(t){var e=new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),r=document.cookie.replace(e,"$1");return r=decodeURIComponent(r)||null},remove:function(t,e){var n=$.extend(!0,{},r,e),o=n.domain,i=n.root;return document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(i?"; path="+i:""),t},destroy:function(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++){var r=decodeURIComponent(t[e]);this.remove(r)}return t}};$.extend(this,n)}},{}],6:[function(t,e){"use strict";var r=!1,n=t(r?"./node-http-transport":"./ajax-http-transport");e.exports=n},{"./node-http-transport":25,"./ajax-http-transport":7}],7:[function(t,e){"use strict";var r=t("../util/query-util");e.exports=function(t){var e={url:"",contentType:"application/json",headers:{},statusCode:{404:$.noop},parameterParser:r.toQueryFormat,xhrFields:{withCredentials:!0}},n=$.extend({},e,t),o=function(t){return $.isFunction(t)?t():t},i=function(t,e,r){e=o(e),e=$.isPlainObject(e)||$.isArray(e)?JSON.stringify(e):e;var i=$.extend(!0,{},n,r,{type:t,data:e}),s=["data","url"];if($.each(i,function(t,e){$.isFunction(e)&&-1!==$.inArray(t,s)&&(i[t]=e())}),i.logLevel&&"DEBUG"===i.logLevel){var a=i.success||$.noop;i.success=function(t){a.apply(this,arguments)}}return $.ajax(i)},s={get:function(t,e){var r=$.extend({},n,e);return t=r.parameterParser(o(t)),i.call(this,"GET",t,r)},post:function(){return i.apply(this,["post"].concat([].slice.call(arguments)))},patch:function(){return i.apply(this,["patch"].concat([].slice.call(arguments)))},put:function(){return i.apply(this,["put"].concat([].slice.call(arguments)))},"delete":function(t,e){var r=$.extend({},n,e);if(t=r.parameterParser(o(t)),$.trim(t)){var s=-1===o(r.url).indexOf("?")?"?":"&";r.url=o(r.url)+s+t}return i.call(this,"DELETE",null,r)},head:function(){return i.apply(this,["head"].concat([].slice.call(arguments)))},options:function(){return i.apply(this,["options"].concat([].slice.call(arguments)))}};return $.extend(this,s)}},{"../util/query-util":2}],9:[function(t,e){!function(){"use strict";var r=t("./url-config-service");e.exports=function(t){var e={logLevel:"NONE"},n=$.extend({},e,t);return n.server=r(n.server),{data:n,setEnv:function(){},get:function(t){return n[t]},set:function(t,e){n[t]=e}}}}()},{"./url-config-service":8}],10:[function(t,e){"use strict";function r(t,e){var r={};for(var n in t)-1!==e.indexOf(n)&&(r[n]=t[n]);return r}var n=t("./configuration-service"),o=t("../store/store-factory"),i=t("../util/query-util"),s=t("../util/run-util"),a=t("../transport/http-transport-factory"),u=t("./variables-api-service");e.exports=function(t){var e=new o({synchronous:!0}),c={token:e.get("epicenter.project.token")||"",account:"",project:"",filter:"",success:$.noop,error:$.noop,transport:{}},f=$.extend({},c,t),p=new n(f).get("server");f.account&&(p.accountPath=f.account),f.project&&(p.projectPath=f.project),p.filter=";",p.getFilterURL=function(){var t=p.getAPIPath("run"),e=i.toMatrixFormat(f.filter);return e&&(t+=e+"/"),t};var l=$.extend(!0,{},f.transport,{url:p.getFilterURL});f.token&&(l.headers={Authorization:"Bearer "+f.token});var h=new a(l),g=function(t){if(t.filter&&(f.filter=t.filter),!f.filter)throw new Error("No filter specified to apply operations against")},d={urlConfig:p,create:function(t,e){var n=$.extend(!0,{},f,e,{url:p.getAPIPath("run")}),o=["model","scope","files"];t="string"==typeof t?{model:t}:r(t,o);var i=n.success;return n.success=function(t){return f.filter=t.id,i.apply(this,arguments)},h.post(t,n)},query:function(t,e,r){f.filter=t;var n=$.extend(!0,{},f,r);return h.get(e,n)},filter:function(t,e,r){$.isPlainObject(f.filter)?$.extend(f.filter,t):f.filter=t;var n=$.extend(!0,{},f,r);return h.get(e,n)},load:function(t,e,r){f.filter=t;var n=$.extend(!0,{},f,r);return h.get(e,n)},save:function(t,e){var r=$.extend(!0,{},f,e);return g(r),h.patch(t,r)},"do":function(t,e,r){var n,o;r?(n=e,o=r):$.isPlainObject(e)?(n=null,o=e):n=e;var i=s.normalizeOperations(t,n),a=$.extend(!0,{},f,o);g(a);var u=i.args[0].length&&null!==i.args[0]&&void 0!==i.args[0]?i.args[0]:[];return h.post({arguments:u},$.extend(!0,{},a,{url:p.getFilterURL()+"operations/"+i.ops[0]+"/"}))},serial:function(t,e,r){var n=s.normalizeOperations(t,e),o=n.ops,i=n.args,a=this,u=$.Deferred(),c=$.extend(!0,{},f,r),p=function(){var t=o.shift(),e=i.shift();a.do(t,e,{success:function(){o.length?p():(u.resolve.apply(this,arguments),c.success.apply(this,arguments))},error:function(){u.reject.apply(this,arguments),c.error.apply(this,arguments)}})};return p(),u.promise()},parallel:function(t,e,r){for(var n=$.Deferred(),o=s.normalizeOperations(t,e),i=o.ops,a=o.args,u=$.extend(!0,{},f,r),c=[],p=0;p<i.length;p++)c.push(this.do(i[p],a[p]));return $.when.apply(this,c).done(function(){n.resolve.apply(this,arguments),u.success.apply(this.arguments)}).fail(function(){n.reject.apply(this,arguments),u.error.apply(this.arguments)}),n.promise()}},y={variables:function(t){var e=new u($.extend(!0,{},f,t,{runService:this}));return e}};$.extend(this,d),$.extend(this,y)}},{"./configuration-service":9,"../store/store-factory":15,"../util/query-util":2,"../transport/http-transport-factory":6,"../util/run-util":4,"./variables-api-service":11}],11:[function(t,e){"use strict";var r=t("../transport/http-transport-factory");e.exports=function(t){var e={runService:null},n=$.extend({},e,t),o=function(){return n.runService.urlConfig.getFilterURL()+"variables/"},i={url:o};n.token&&(i.headers={Authorization:"Bearer "+n.token});var s=new r(i),a={load:function(t,e,r){var i=$.extend(!0,{},n,r);return s.get(e,$.extend({},i,{url:o()+t+"/"}))},query:function(t,e,r){var o=$.extend(!0,{},n,r);return $.isArray(t)&&(t={include:t}),$.extend(t,e),s.get(t,o)},save:function(t,e,r){var o;"object"==typeof t?(o=t,r=e):(o={})[t]=e;var i=$.extend(!0,{},n,r);return s.patch.call(this,o,i)}};$.extend(this,a)}},{"../transport/http-transport-factory":6}],12:[function(t,e){"use strict";var r=t("./configuration-service"),n=t("../store/store-factory"),o=t("../util/query-util"),i=t("../transport/http-transport-factory");e.exports=function(t){var e=new n({synchronous:!0}),s={root:"/",token:e.get("epicenter.project.token")||"",apiKey:"",domain:"forio.com",transport:{}},a=$.extend({},s,t),u=new r(a).get("server");a.account&&(u.accountPath=a.account),a.project&&(u.projectPath=a.project);var c=function(t,e){e||(e=a.root);var r=u.getAPIPath("data")+o.addTrailingSlash(e);return t&&(r+=o.addTrailingSlash(t)),r},f=$.extend(!0,{},a.transport,{url:c});a.token&&(f.headers={Authorization:"Bearer "+a.token});var p=new i(f),l={query:function(t,e,r,n){var o=$.extend(!0,{q:e},r),i=$.extend(!0,{},a,n);return i.url=c(t,i.root),p.get(o,i)},save:function(t,e,r){var n;"object"==typeof t?(n=t,r=e):(n={})[t]=e;var o=$.extend(!0,{},a,r);return o.url=c("",o.root),p.post(n,o)},saveAs:function(t,e,r){var n=$.extend(!0,{},a,r);return n.url=c(t,n.root),p.put(e,n)},load:function(t,e,r){var n=$.extend(!0,{},a,r);return n.url=c(t,n.root),p.get(e,n)},remove:function(t,e){var r,n=$.extend(!0,{},a,e);return $.isArray(t)?r={id:t}:(r="",n.url=c(t,n.root)),p.delete(r,n)}};$.extend(this,l)}},{"./configuration-service":9,"../store/store-factory":15,"../util/query-util":2,"../transport/http-transport-factory":6}],13:[function(t,e){"use strict";var r=t("./configuration-service"),n=t("../transport/http-transport-factory");e.exports=function(t){var e={userName:"",password:"",account:"",transport:{}},o=$.extend({},e,t),i=new r(o).get("server"),s=$.extend(!0,{},o.transport,{url:i.getAPIPath("authentication")}),a=new n(s),u={login:function(t){var e=$.extend(!0,{success:$.noop},o,t);if(!e.userName||!e.password){var r={status:401,statusMessage:"No username or password specified."};return t.error&&t.error.call(this,r),$.Deferred().reject(r).promise()}var n={userName:e.userName,password:e.password};return e.account&&(n.account=e.account),a.post(n,e)},logout:function(t){var e=$.extend(!0,o,s,t);if(!e.token)throw new Error("No token was specified.");var r="/"===e.url.slice(-1)?"":"/";e.url=e.url+r+e.token;var n={};return a.delete(n,e)}};$.extend(this,u)}},{"./configuration-service":9,"../transport/http-transport-factory":6}],15:[function(t,e){"use strict";var r=!1,n=t(r?"./session-store":"./cookie-store");e.exports=n},{"./session-store":26,"./cookie-store":14}],16:[function(t,e){"use strict";function r(t){this.options=$.extend(!0,{},o,t),this.runService=this.options.run||new n(this.options)}var n=t("../service/run-api-service"),o={validFilter:{saved:!0}};r.prototype={getRuns:function(t){return this.filter=$.extend(!0,{},this.options.validFilter,t),this.runService.query(this.filter)},loadVariables:function(t){return this.runService.query(this.filter,{include:t})},save:function(t,e){return this._getService(t).save($.extend(!0,{},{saved:!0},e))},archive:function(t){return this._getService(t).save({saved:!1})},_getService:function(t){if("string"==typeof t)return new n($.extend(!0,{},this.options,{filter:t}));if("object"==typeof t&&t instanceof n)return t;throw new Error("Save method requires a run service or a runId")},getRun:function(t){return new n($.extend(!0,{},this.options,{filter:t}))}},e.exports=r},{"../service/run-api-service":10}],17:[function(t,e){"use strict";function r(t,e){if(t.patched)return t;var r=t.do;return t.do=function(n,o,s){var a=Object.keys(i);return-1===a.indexOf(n)?r.apply(t,arguments):i[n].call(t,o,s,e)},t.patched=!0,t}function n(t){this.options=$.extend(!0,{},a,t),this.run=this.options.run instanceof s?this.options.run:new s(this.options.run),r(this.run,this);var e="function"==typeof this.options.strategy?this.options.strategy:o[this.options.strategy];if(!e)throw new Error("Specified run creation strategy was invalid:",this.options.strategy);this.strategy=new e(this.run,this.options)}var o=t("./run-strategies/strategies-map"),i=t("./special-operations"),s=t("../service/run-api-service"),a={strategy:"new-if-initialized"};n.prototype={getRun:function(){return this.strategy.getRun()},reset:function(t){return this.strategy.reset(t)}},e.exports=n},{"./run-strategies/strategies-map":27,"./special-operations":28,"../service/run-api-service":10}],24:[function(t,e){!function(){"use strict";function r(t){var e=JSON.stringify(t);i.set(g,e)}function n(){var t=i.get(h)||"{}";return JSON.parse(t)}function o(t){this.options=$.extend(!0,{},l,t),this.authAdapter=new u(this.options),this.memberAdapter=new c(this.options);var e=new a(this.options).get("server");this.options.account||(this.options.account=e.accountPath),void 0===this.options.project&&(this.options.project=e.projectPath),i=new f(this.options.store),s=i.get(h)||""}var i,s,a=t("../service/configuration-service"),u=t("../service/auth-api-service"),c=t("../service/member-api-adapter"),f=t("../store/store-factory"),p=t("buffer").Buffer,l={store:{synchronous:!0}},h="epicenter.project.token",g="epicenter.user.session",d=function(t,e){for(var r=0;r<t.length;r++)if(t[r].userId===e)return t[r];return null};o.prototype={login:function(t){var e=this,n=$.Deferred(),o=$.extend(!0,{success:$.noop,error:$.noop},this.options,t),i=o.success,a=o.error,u=o.groupId,c=function(t){for(var e=t.split(".")[1];e.length%4!==0;)e+="=";var r=window.atob?window.atob:function(t){return new p(t,"base64").toString("ascii")};return JSON.parse(r(e))},f=function(t){r(t)},l=function(t,r,o){e.logout().then(function(){var e=$.extend(!0,{},o,{statusText:t,status:r});n.reject(e)})},h=function(t){s=t.access_token;var r=c(s),a=$.extend(!0,{},o,{userId:r.user_id,success:$.noop});e.getUserGroups(a).done(function(e){var a={auth:t,user:r,userGroups:e,groupSelection:{}};if(!o.project)return i.apply(this,[a]),void n.resolve(a);var c=null;if(0===e.length)return void l("The user has no groups associated in this account",401,a);if(1===e.length)c=e[0];else if(e.length>1&&u){var p=$.grep(e,function(t){return t.groupId===u});c=1===p.length?p[0]:null}if(c){var h=c.groupId;a.groupSelection[o.project]=h;var g={auth_token:s,account:o.account,project:o.project,userId:r.user_id,groupId:c.groupId,groupName:c.name,isFac:"facilitator"===d(c.members,r.user_id).role};f(g),i.apply(this,[a]),n.resolve(a)}else l("This account is associated with more that one group. Please specify a group id to log into and try again",403,a)}).fail(n.reject)};return o.success=h,o.error=function(t){return o.account?(o.account=null,o.error=function(){a.apply(this,arguments),n.reject(t)},void e.authAdapter.login(o)):(a.apply(this,arguments),void n.reject(t))},this.authAdapter.login(o),n.promise()},logout:function(t){var e=$.Deferred(),r=$.extend(!0,{success:$.noop,token:s},this.options,t),n=function(){i.remove(h,r),i.remove(g,r),s=""},o=r.success;return r.success=function(t){n(t),o.apply(this,arguments)},r.error=function(t){n(t),o.apply(this,arguments),e.resolve()},this.authAdapter.logout(r).done(e.resolve),e.promise()},getToken:function(t){var e=$.extend(!0,this.options,t),r=$.Deferred();return s?r.resolve(s):this.login(e).then(r.resolve),r.promise()},getUserGroups:function(t){var e=$.extend(!0,{success:$.noop},this.options,t),r=$.Deferred(),n=e.success;return e.success=function(t){e.project&&(t=$.grep(t,function(t){return t.project===e.project})),n.apply(this,[t]),r.resolve(t)},this.memberAdapter.getGroupsByUser(e).fail(r.reject),r.promise()},getUserSession:function(){return n()}},e.exports=o}()},{buffer:29,"../service/configuration-service":9,"../service/auth-api-service":13,"../service/member-api-adapter":30,"../store/store-factory":15}],31:[function(t,e){!function(){function r(t){if(Object.keys)return Object.keys(t);var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}function n(t,e){return void 0===e?""+e:"number"!=typeof e||!isNaN(e)&&isFinite(e)?"function"==typeof e||e instanceof RegExp?e.toString():e:e.toString()}function o(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function i(t,e,r,n,o){throw new y.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}function s(t,e){t||i(t,!0,e,"==",y.ok)}function a(t,e){if(t===e)return!0;if(g.isBuffer(t)&&g.isBuffer(e)){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t==e:f(t,e)}function u(t){return null===t||void 0===t}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function f(t,e){if(u(t)||u(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return c(e)?(t=d.call(t),e=d.call(e),a(t,e)):!1;try{var n,o,i=r(t),s=r(e)}catch(f){return!1}if(i.length!=s.length)return!1;for(i.sort(),s.sort(),o=i.length-1;o>=0;o--)if(i[o]!=s[o])return!1;for(o=i.length-1;o>=0;o--)if(n=i[o],!a(t[n],e[n]))return!1;return!0}function p(t,e){return t&&e?e instanceof RegExp?e.test(t):t instanceof e?!0:e.call({},t)===!0?!0:!1:!1}function l(t,e,r,n){var o;"string"==typeof r&&(n=r,r=null);try{e()}catch(s){o=s}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&i("Missing expected exception"+n),!t&&p(o,r)&&i("Got unwanted exception"+n),t&&o&&r&&!p(o,r)||!t&&o)throw o}var h=t("util"),g=t("buffer").Buffer,d=Array.prototype.slice,y=e.exports=s;y.AssertionError=function(t){this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var e=t.stackStartFunction||i;Error.captureStackTrace&&Error.captureStackTrace(this,e)},h.inherits(y.AssertionError,Error),y.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",o(JSON.stringify(this.actual,n),128),this.operator,o(JSON.stringify(this.expected,n),128)].join(" ")},y.AssertionError.__proto__=Error.prototype,y.fail=i,y.ok=s,y.equal=function(t,e,r){t!=e&&i(t,e,r,"==",y.equal)},y.notEqual=function(t,e,r){t==e&&i(t,e,r,"!=",y.notEqual)},y.deepEqual=function(t,e,r){a(t,e)||i(t,e,r,"deepEqual",y.deepEqual)},y.notDeepEqual=function(t,e,r){a(t,e)&&i(t,e,r,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(t,e,r){t!==e&&i(t,e,r,"===",y.strictEqual)},y.notStrictEqual=function(t,e,r){t===e&&i(t,e,r,"!==",y.notStrictEqual)},y.throws=function(){l.apply(this,[!0].concat(d.call(arguments)))},y.doesNotThrow=function(){l.apply(this,[!1].concat(d.call(arguments)))},y.ifError=function(t){if(t)throw t}}()},{util:32,buffer:29}],18:[function(t,e){"use strict";var r=t("../../util/inherit"),n=t("./conditional-creation-strategy"),o=n.prototype,i=r(n,{constructor:function(t,e){o.constructor.call(this,t,this.createIf,e)},createIf:function(){return!0}});e.exports=i},{"../../util/inherit":5,"./conditional-creation-strategy":19}],19:[function(t,e){"use strict";function r(t,e){var r="/"+[c.appPath,c.accountPath,c.projectPath].join("/");r=r.replace(/\/{2,}/g,"/"),u.set(t,JSON.stringify({runId:e.id}),{root:r})}var n=t("../../util/make-sequence"),o=t("./identity-strategy"),i=t("../../store/store-factory"),s=t("../../util/inherit"),a=t("../../service/url-config-service"),u=new i({}),c=new a,f={sessionKey:"epicenter-scenario"},p=s(o,{constructor:function(t,e,r){if(null==e)throw new Error("Conditional strategy needs a condition to createte a run");this.run=n(t),this.condition="function"!=typeof e?function(){return e}:e,this.options=$.extend(!0,{},f,r),this.runOptions=this.options.run},reset:function(t){var e=this;return this.run.create(this.runOptions,t).then(function(t){return r(e.options.sessionKey,t),t.freshlyCreated=!0,t}).start()},getRun:function(){var t=JSON.parse(u.get(this.options.sessionKey));return t&&t.runId?this._loadAndCheck(t):this.reset()},_loadAndCheck:function(t){var e=!1,n=this;return this.run.load(t.runId,null,{success:function(t,r,o){e=n.condition.call(n,t,o)}}).then(function(t){return e?n.run.original.create(n.runOptions).then(function(t){return r(n.options.sessionKey,t),t.freshlyCreated=!0,t}):t}).start()}});e.exports=p},{"../../util/make-sequence":3,"./identity-strategy":20,"../../store/store-factory":15,"../../util/inherit":5,"../../service/url-config-service":8}],20:[function(t,e){var r=t("../../util/inherit"),n={};e.exports=r(n,{})},{"../../util/inherit":5}],21:[function(t,e){"use strict";var r=t("../../util/inherit"),n=t("./conditional-creation-strategy"),o=n.prototype,i=r(n,{constructor:function(t,e){o.constructor.call(this,t,this.createIf,e)},createIf:function(){return!1}});e.exports=i},{"../../util/inherit":5,"./conditional-creation-strategy":19}],22:[function(t,e){"use strict";var r=t("../../util/inherit"),n=t("./conditional-creation-strategy"),o=n.prototype,i=r(n,{constructor:function(t,e){o.constructor.call(this,t,this.createIf,e)},createIf:function(t,e){return"persistent"===e.getResponseHeader("pragma")}});e.exports=i},{"../../util/inherit":5,"./conditional-creation-strategy":19}],23:[function(t,e){"use strict";var r=t("../../util/inherit"),n=t("./conditional-creation-strategy"),o=n.prototype,i=r(n,{constructor:function(t,e){o.constructor.call(this,t,this.createIf,e)},createIf:function(t,e){return"persistent"===e.getResponseHeader("pragma")||t.initialized}});e.exports=i},{"../../util/inherit":5,"./conditional-creation-strategy":19}],25:[function(){},{}],26:[function(t,e){"use strict";e.exports=function(t){var e={root:"/",domain:".forio.com"},r=$.extend({},e,t),n={set:function(t,e,n){var o=$.extend(!0,{},r,n),i=o.domain,s=o.root;return document.session=encodeURIComponent(t)+"="+encodeURIComponent(e)+(i?"; domain="+i:"")+(s?"; path="+s:""),e},get:function(t){var e=new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),r=document.session.replace(e,"$1");return r=decodeURIComponent(r)||null},remove:function(t,e){var n=$.extend(!0,{},r,e),o=n.domain,i=n.root;return document.session=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(i?"; path="+i:""),t},destroy:function(){for(var t=document.session.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++){var r=decodeURIComponent(t[e]);this.remove(r)}return t}};$.extend(this,n)}},{}],28:[function(t,e){"use strict";e.exports={reset:function(t,e,r){return r.reset(e)}}},{}],32:[function(t,e,r){function n(t){return t instanceof Array||Array.isArray(t)||t&&t!==Object.prototype&&n(t.__proto__)}function o(t){return t instanceof RegExp||"object"==typeof t&&"[object RegExp]"===Object.prototype.toString.call(t)}function i(t){if(t instanceof Date)return!0;if("object"!=typeof t)return!1;var e=Date.prototype&&a(Date.prototype),r=t.__proto__&&a(t.__proto__);return JSON.stringify(r)===JSON.stringify(e)}t("events");r.isArray=n,r.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},r.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},r.print=function(){},r.puts=function(){},r.debug=function(){},r.inspect=function(t,e,u,c){function f(t,u){if(t&&"function"==typeof t.inspect&&t!==r&&(!t.constructor||t.constructor.prototype!==t))return t.inspect(u);switch(typeof t){case"undefined":return l("undefined","undefined");case"string":var c="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return l(c,"string");case"number":return l(""+t,"number");case"boolean":return l(""+t,"boolean")}if(null===t)return l("null","null");var h=s(t),g=e?a(t):h;if("function"==typeof t&&0===g.length){if(o(t))return l(""+t,"regexp");var d=t.name?": "+t.name:"";return l("[Function"+d+"]","special")}if(i(t)&&0===g.length)return l(t.toUTCString(),"date");var y,v,m;if(n(t)?(v="Array",m=["[","]"]):(v="Object",m=["{","}"]),"function"==typeof t){var w=t.name?": "+t.name:"";y=o(t)?" "+t:" [Function"+w+"]"}else y="";if(i(t)&&(y=" "+t.toUTCString()),0===g.length)return m[0]+y+m[1];if(0>u)return o(t)?l(""+t,"regexp"):l("[Object]","special");p.push(t);var b=g.map(function(e){var r,o;if(t.__lookupGetter__&&(t.__lookupGetter__(e)?o=t.__lookupSetter__(e)?l("[Getter/Setter]","special"):l("[Getter]","special"):t.__lookupSetter__(e)&&(o=l("[Setter]","special"))),h.indexOf(e)<0&&(r="["+e+"]"),o||(p.indexOf(t[e])<0?(o=null===u?f(t[e]):f(t[e],u-1),o.indexOf("\n")>-1&&(o=n(t)?o.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+o.split("\n").map(function(t){return"   "+t}).join("\n"))):o=l("[Circular]","special")),"undefined"==typeof r){if("Array"===v&&e.match(/^\d+$/))return o;r=JSON.stringify(""+e),r.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(r=r.substr(1,r.length-2),r=l(r,"name")):(r=r.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),r=l(r,"string"))}return r+": "+o});p.pop();var E=0,x=b.reduce(function(t,e){return E++,e.indexOf("\n")>=0&&E++,t+e.length+1},0);return b=x>50?m[0]+(""===y?"":y+"\n ")+" "+b.join(",\n  ")+" "+m[1]:m[0]+y+" "+b.join(", ")+" "+m[1]}var p=[],l=function(t,e){var r={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[e];return n?"["+r[n][0]+"m"+t+"["+r[n][1]+"m":t};return c||(l=function(t){return t}),f(t,"undefined"==typeof u?2:u)};r.log=function(){},r.pump=null;var s=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},a=Object.getOwnPropertyNames||function(t){var e=[];for(var r in t)Object.hasOwnProperty.call(t,r)&&e.push(r);return e},u=Object.create||function(t,e){var r;if(null===t)r={__proto__:null};else{if("object"!=typeof t)throw new TypeError("typeof prototype["+typeof t+"] != 'object'");var n=function(){};n.prototype=t,r=new n,r.__proto__=t}return"undefined"!=typeof e&&Object.defineProperties&&Object.defineProperties(r,e),r};r.inherits=function(t,e){t.super_=e,t.prototype=u(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;r.format=function(t){if("string"!=typeof t){for(var e=[],n=0;n<arguments.length;n++)e.push(r.inspect(arguments[n]));return e.join(" ")}for(var n=1,o=arguments,i=o.length,s=String(t).replace(c,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":return JSON.stringify(o[n++]);default:return t}}),a=o[n];i>n;a=o[++n])s+=null===a||"object"!=typeof a?" "+a:" "+r.inspect(a);return s}},{events:33}],34:[function(t,e,r){r.readIEEE754=function(t,e,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,f=-7,p=r?0:o-1,l=r?1:-1,h=t[e+p];for(p+=l,i=h&(1<<-f)-1,h>>=-f,f+=a;f>0;i=256*i+t[e+p],p+=l,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+t[e+p],p+=l,f-=8);if(0===i)i=1-c;else{if(i===u)return s?0/0:1/0*(h?-1:1);s+=Math.pow(2,n),i-=c}return(h?-1:1)*s*Math.pow(2,i-n)},r.writeIEEE754=function(t,e,r,n,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,p=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?i-1:0,g=n?-1:1,d=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+p>=1?l/u:l*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=f?(a=0,s=f):s+p>=1?(a=(e*u-1)*Math.pow(2,o),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;t[r+h]=255&a,h+=g,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;t[r+h]=255&s,h+=g,s/=256,c-=8);t[r+h-g]|=128*d
}},{}],29:[function(t,e,r){!function(){function e(t){this.length=t}function n(t){return 16>t?"0"+t.toString(16):t.toString(16)}function o(t){for(var e=[],r=0;r<t.length;r++)if(t.charCodeAt(r)<=127)e.push(t.charCodeAt(r));else for(var n=encodeURIComponent(t.charAt(r)).substr(1).split("%"),o=0;o<n.length;o++)e.push(parseInt(n[o],16));return e}function i(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e}function s(e){return t("base64-js").toByteArray(e)}function a(t,e,r,n){for(var o=0;n>o&&!(o+r>=e.length||o>=t.length);)e[o+r]=t[o],o++;return o}function u(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}function c(t){return t=~~Math.ceil(+t),0>t?0:t}function f(t,r,n){if(!(this instanceof f))return new f(t,r,n);var o;if("number"==typeof n)this.length=c(r),this.parent=t,this.offset=n;else{switch(o=typeof t){case"number":this.length=c(t);break;case"string":this.length=f.byteLength(t,r);break;case"object":this.length=c(t.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>f.poolSize?(this.parent=new e(this.length),this.offset=0):((!A||A.length-A.used<this.length)&&l(),this.parent=A,this.offset=A.used,A.used+=this.length),p(t))for(var i=0;i<this.length;i++)this.parent[i+this.offset]=t instanceof f?t.readUInt8(i):t[i];else"string"==o&&(this.length=this.write(t,0,r))}}function p(t){return Array.isArray(t)||f.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function l(){A=new e(f.poolSize),A.used=0}function h(t,e,r,n){var o=0;return n||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+1<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(r?(o=t.parent[t.offset+e]<<8,e+1<t.length&&(o|=t.parent[t.offset+e+1])):(o=t.parent[t.offset+e],e+1<t.length&&(o|=t.parent[t.offset+e+1]<<8)),o)}function g(t,e,r,n){var o=0;return n||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+3<t.length,"Trying to read beyond buffer length")),e>=t.length?0:(r?(e+1<t.length&&(o=t.parent[t.offset+e+1]<<16),e+2<t.length&&(o|=t.parent[t.offset+e+2]<<8),e+3<t.length&&(o|=t.parent[t.offset+e+3]),o+=t.parent[t.offset+e]<<24>>>0):(e+2<t.length&&(o=t.parent[t.offset+e+2]<<16),e+1<t.length&&(o|=t.parent[t.offset+e+1]<<8),o|=t.parent[t.offset+e],e+3<t.length&&(o+=t.parent[t.offset+e+3]<<24>>>0)),o)}function d(t,e,r,n){var o,i;return n||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+1<t.length,"Trying to read beyond buffer length")),i=h(t,e,r,n),o=32768&i,o?-1*(65535-i+1):i}function y(t,e,r,n){var o,i;return n||(j.ok("boolean"==typeof r,"missing or invalid endian"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e+3<t.length,"Trying to read beyond buffer length")),i=g(t,e,r,n),o=2147483648&i,o?-1*(4294967295-i+1):i}function v(e,r,n,o){return o||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(r+3<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,r,n,23,4)}function m(e,r,n,o){return o||(j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(r+7<e.length,"Trying to read beyond buffer length")),t("./buffer_ieee754").readIEEE754(e,r,n,52,8)}function w(t,e){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(t>=0,"specified a negative value for writing an unsigned value"),j.ok(e>=t,"value is larger than maximum value for type"),j.ok(Math.floor(t)===t,"value has a fractional component")}function b(t,e,r,n,o){o||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+1<t.length,"trying to write beyond buffer length"),w(e,65535));for(var i=0;i<Math.min(t.length-r,2);i++)t.parent[t.offset+r+i]=(e&255<<8*(n?1-i:i))>>>8*(n?1-i:i)}function E(t,e,r,n,o){o||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+3<t.length,"trying to write beyond buffer length"),w(e,4294967295));for(var i=0;i<Math.min(t.length-r,4);i++)t.parent[t.offset+r+i]=e>>>8*(n?3-i:i)&255}function x(t,e,r){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(e>=t,"value larger than maximum allowed value"),j.ok(t>=r,"value smaller than minimum allowed value"),j.ok(Math.floor(t)===t,"value has a fractional component")}function k(t,e,r){j.ok("number"==typeof t,"cannot write a non-number as a number"),j.ok(e>=t,"value larger than maximum allowed value"),j.ok(t>=r,"value smaller than minimum allowed value")}function $(t,e,r,n,o){o||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+1<t.length,"Trying to write beyond buffer length"),x(e,32767,-32768)),e>=0?b(t,e,r,n,o):b(t,65535+e+1,r,n,o)}function I(t,e,r,n,o){o||(j.ok(void 0!==e&&null!==e,"missing value"),j.ok("boolean"==typeof n,"missing or invalid endian"),j.ok(void 0!==r&&null!==r,"missing offset"),j.ok(r+3<t.length,"Trying to write beyond buffer length"),x(e,2147483647,-2147483648)),e>=0?E(t,e,r,n,o):E(t,4294967295+e+1,r,n,o)}function _(e,r,n,o,i){i||(j.ok(void 0!==r&&null!==r,"missing value"),j.ok("boolean"==typeof o,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+3<e.length,"Trying to write beyond buffer length"),k(r,3.4028234663852886e38,-3.4028234663852886e38)),t("./buffer_ieee754").writeIEEE754(e,r,n,o,23,4)}function S(e,r,n,o,i){i||(j.ok(void 0!==r&&null!==r,"missing value"),j.ok("boolean"==typeof o,"missing or invalid endian"),j.ok(void 0!==n&&null!==n,"missing offset"),j.ok(n+7<e.length,"Trying to write beyond buffer length"),k(r,1.7976931348623157e308,-1.7976931348623157e308)),t("./buffer_ieee754").writeIEEE754(e,r,n,o,52,8)}var j=t("assert");r.INSPECT_MAX_BYTES=50,e.byteLength=function(t,e){switch(e||"utf8"){case"hex":return t.length/2;case"utf8":case"utf-8":return o(t).length;case"ascii":case"binary":return t.length;case"base64":return s(t).length;default:throw new Error("Unknown encoding")}},e.prototype.utf8Write=function(t,r,n){return e._charsWritten=a(o(t),this,r,n)},e.prototype.asciiWrite=function(t,r,n){return e._charsWritten=a(i(t),this,r,n)},e.prototype.binaryWrite=e.prototype.asciiWrite,e.prototype.base64Write=function(t,r,n){return e._charsWritten=a(s(t),this,r,n)},e.prototype.base64Slice=function(){var e=Array.prototype.slice.apply(this,arguments);return t("base64-js").fromByteArray(e)},e.prototype.utf8Slice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",r="",n=0;n<t.length;)t[n]<=127?(e+=u(r)+String.fromCharCode(t[n]),r=""):r+="%"+t[n].toString(16),n++;return e+u(r)},e.prototype.asciiSlice=function(){for(var t=Array.prototype.slice.apply(this,arguments),e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},e.prototype.binarySlice=e.prototype.asciiSlice,e.prototype.inspect=function(){for(var t=[],e=this.length,o=0;e>o;o++)if(t[o]=n(this[o]),o==r.INSPECT_MAX_BYTES){t[o+1]="...";break}return"<SlowBuffer "+t.join(" ")+">"},e.prototype.hexSlice=function(t,e){var r=this.length;(!t||0>t)&&(t=0),(!e||0>e||e>r)&&(e=r);for(var o="",i=t;e>i;i++)o+=n(this[i]);return o},e.prototype.toString=function(t,e,r){if(t=String(t||"utf8").toLowerCase(),e=+e||0,"undefined"==typeof r&&(r=this.length),+r==e)return"";switch(t){case"hex":return this.hexSlice(e,r);case"utf8":case"utf-8":return this.utf8Slice(e,r);case"ascii":return this.asciiSlice(e,r);case"binary":return this.binarySlice(e,r);case"base64":return this.base64Slice(e,r);case"ucs2":case"ucs-2":return this.ucs2Slice(e,r);default:throw new Error("Unknown encoding")}},e.prototype.hexWrite=function(t,r,n){r=+r||0;var o=this.length-r;n?(n=+n,n>o&&(n=o)):n=o;var i=t.length;if(i%2)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;n>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");this[r+s]=a}return e._charsWritten=2*s,s},e.prototype.write=function(t,e,r,n){if(isFinite(e))isFinite(r)||(n=r,r=void 0);else{var o=n;n=e,e=r,r=o}e=+e||0;var i=this.length-e;switch(r?(r=+r,r>i&&(r=i)):r=i,n=String(n||"utf8").toLowerCase()){case"hex":return this.hexWrite(t,e,r);case"utf8":case"utf-8":return this.utf8Write(t,e,r);case"ascii":return this.asciiWrite(t,e,r);case"binary":return this.binaryWrite(t,e,r);case"base64":return this.base64Write(t,e,r);case"ucs2":case"ucs-2":return this.ucs2Write(t,e,r);default:throw new Error("Unknown encoding")}},e.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new f(this,e-t,+t)},e.prototype.copy=function(t,e,r,n){for(var o=[],i=r;n>i;i++)j.ok("undefined"!=typeof this[i],"copying undefined buffer bytes!"),o.push(this[i]);for(var i=e;i<e+o.length;i++)t[i]=o[i-e]},e.prototype.fill=function(t,e,r){if(r>this.length)throw new Error("oob");if(e>r)throw new Error("oob");for(var n=e;r>n;n++)this[n]=t},r.SlowBuffer=e,r.Buffer=f,f.poolSize=8192;var A;f.isBuffer=function(t){return t instanceof f||t instanceof e},f.concat=function(t,e){if(!Array.isArray(t))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===t.length)return new f(0);if(1===t.length)return t[0];if("number"!=typeof e){e=0;for(var r=0;r<t.length;r++){var n=t[r];e+=n.length}}for(var o=new f(e),i=0,r=0;r<t.length;r++){var n=t[r];n.copy(o,i),i+=n.length}return o},f.prototype.inspect=function(){for(var t=[],e=this.length,o=0;e>o;o++)if(t[o]=n(this.parent[o+this.offset]),o==r.INSPECT_MAX_BYTES){t[o+1]="...";break}return"<Buffer "+t.join(" ")+">"},f.prototype.get=function(t){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]},f.prototype.set=function(t,e){if(0>t||t>=this.length)throw new Error("oob");return this.parent[this.offset+t]=e},f.prototype.write=function(t,r,n,o){if(isFinite(r))isFinite(n)||(o=n,n=void 0);else{var i=o;o=r,r=n,n=i}r=+r||0;var s=this.length-r;n?(n=+n,n>s&&(n=s)):n=s,o=String(o||"utf8").toLowerCase();var a;switch(o){case"hex":a=this.parent.hexWrite(t,this.offset+r,n);break;case"utf8":case"utf-8":a=this.parent.utf8Write(t,this.offset+r,n);break;case"ascii":a=this.parent.asciiWrite(t,this.offset+r,n);break;case"binary":a=this.parent.binaryWrite(t,this.offset+r,n);break;case"base64":a=this.parent.base64Write(t,this.offset+r,n);break;case"ucs2":case"ucs-2":a=this.parent.ucs2Write(t,this.offset+r,n);break;default:throw new Error("Unknown encoding")}return f._charsWritten=e._charsWritten,a},f.prototype.toString=function(t,e,r){switch(t=String(t||"utf8").toLowerCase(),"undefined"==typeof e||0>e?e=0:e>this.length&&(e=this.length),"undefined"==typeof r||r>this.length?r=this.length:0>r&&(r=0),e+=this.offset,r+=this.offset,t){case"hex":return this.parent.hexSlice(e,r);case"utf8":case"utf-8":return this.parent.utf8Slice(e,r);case"ascii":return this.parent.asciiSlice(e,r);case"binary":return this.parent.binarySlice(e,r);case"base64":return this.parent.base64Slice(e,r);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(e,r);default:throw new Error("Unknown encoding")}},f.byteLength=e.byteLength,f.prototype.fill=function(t,e,r){if(t||(t=0),e||(e=0),r||(r=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),"number"!=typeof t||isNaN(t))throw new Error("value is not a number");if(e>r)throw new Error("end < start");if(r===e)return 0;if(0==this.length)return 0;if(0>e||e>=this.length)throw new Error("start out of bounds");if(0>r||r>this.length)throw new Error("end out of bounds");return this.parent.fill(t,e+this.offset,r+this.offset)},f.prototype.copy=function(t,e,r,n){var o=this;if(r||(r=0),n||(n=this.length),e||(e=0),r>n)throw new Error("sourceEnd < sourceStart");if(n===r)return 0;if(0==t.length||0==o.length)return 0;if(0>e||e>=t.length)throw new Error("targetStart out of bounds");if(0>r||r>=o.length)throw new Error("sourceStart out of bounds");if(0>n||n>o.length)throw new Error("sourceEnd out of bounds");return n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r),this.parent.copy(t.parent,e+t.offset,r+this.offset,n+this.offset)},f.prototype.slice=function(t,e){if(void 0===e&&(e=this.length),e>this.length)throw new Error("oob");if(t>e)throw new Error("oob");return new f(this.parent,e-t,+t+this.offset)},f.prototype.utf8Slice=function(t,e){return this.toString("utf8",t,e)},f.prototype.binarySlice=function(t,e){return this.toString("binary",t,e)},f.prototype.asciiSlice=function(t,e){return this.toString("ascii",t,e)},f.prototype.utf8Write=function(t,e){return this.write(t,e,"utf8")},f.prototype.binaryWrite=function(t,e){return this.write(t,e,"binary")},f.prototype.asciiWrite=function(t,e){return this.write(t,e,"ascii")},f.prototype.readUInt8=function(t,e){var r=this;return e||(j.ok(void 0!==t&&null!==t,"missing offset"),j.ok(t<r.length,"Trying to read beyond buffer length")),t>=r.length?void 0:r.parent[r.offset+t]},f.prototype.readUInt16LE=function(t,e){return h(this,t,!1,e)},f.prototype.readUInt16BE=function(t,e){return h(this,t,!0,e)},f.prototype.readUInt32LE=function(t,e){return g(this,t,!1,e)},f.prototype.readUInt32BE=function(t,e){return g(this,t,!0,e)},f.prototype.readInt8=function(t,e){var r,n=this;return e||(j.ok(void 0!==t&&null!==t,"missing offset"),j.ok(t<n.length,"Trying to read beyond buffer length")),t>=n.length?void 0:(r=128&n.parent[n.offset+t],r?-1*(255-n.parent[n.offset+t]+1):n.parent[n.offset+t])},f.prototype.readInt16LE=function(t,e){return d(this,t,!1,e)},f.prototype.readInt16BE=function(t,e){return d(this,t,!0,e)},f.prototype.readInt32LE=function(t,e){return y(this,t,!1,e)},f.prototype.readInt32BE=function(t,e){return y(this,t,!0,e)},f.prototype.readFloatLE=function(t,e){return v(this,t,!1,e)},f.prototype.readFloatBE=function(t,e){return v(this,t,!0,e)},f.prototype.readDoubleLE=function(t,e){return m(this,t,!1,e)},f.prototype.readDoubleBE=function(t,e){return m(this,t,!0,e)},f.prototype.writeUInt8=function(t,e,r){var n=this;r||(j.ok(void 0!==t&&null!==t,"missing value"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e<n.length,"trying to write beyond buffer length"),w(t,255)),e<n.length&&(n.parent[n.offset+e]=t)},f.prototype.writeUInt16LE=function(t,e,r){b(this,t,e,!1,r)},f.prototype.writeUInt16BE=function(t,e,r){b(this,t,e,!0,r)},f.prototype.writeUInt32LE=function(t,e,r){E(this,t,e,!1,r)},f.prototype.writeUInt32BE=function(t,e,r){E(this,t,e,!0,r)},f.prototype.writeInt8=function(t,e,r){var n=this;r||(j.ok(void 0!==t&&null!==t,"missing value"),j.ok(void 0!==e&&null!==e,"missing offset"),j.ok(e<n.length,"Trying to write beyond buffer length"),x(t,127,-128)),t>=0?n.writeUInt8(t,e,r):n.writeUInt8(255+t+1,e,r)},f.prototype.writeInt16LE=function(t,e,r){$(this,t,e,!1,r)},f.prototype.writeInt16BE=function(t,e,r){$(this,t,e,!0,r)},f.prototype.writeInt32LE=function(t,e,r){I(this,t,e,!1,r)},f.prototype.writeInt32BE=function(t,e,r){I(this,t,e,!0,r)},f.prototype.writeFloatLE=function(t,e,r){_(this,t,e,!1,r)},f.prototype.writeFloatBE=function(t,e,r){_(this,t,e,!0,r)},f.prototype.writeDoubleLE=function(t,e,r){S(this,t,e,!1,r)},f.prototype.writeDoubleBE=function(t,e,r){S(this,t,e,!0,r)},e.prototype.readUInt8=f.prototype.readUInt8,e.prototype.readUInt16LE=f.prototype.readUInt16LE,e.prototype.readUInt16BE=f.prototype.readUInt16BE,e.prototype.readUInt32LE=f.prototype.readUInt32LE,e.prototype.readUInt32BE=f.prototype.readUInt32BE,e.prototype.readInt8=f.prototype.readInt8,e.prototype.readInt16LE=f.prototype.readInt16LE,e.prototype.readInt16BE=f.prototype.readInt16BE,e.prototype.readInt32LE=f.prototype.readInt32LE,e.prototype.readInt32BE=f.prototype.readInt32BE,e.prototype.readFloatLE=f.prototype.readFloatLE,e.prototype.readFloatBE=f.prototype.readFloatBE,e.prototype.readDoubleLE=f.prototype.readDoubleLE,e.prototype.readDoubleBE=f.prototype.readDoubleBE,e.prototype.writeUInt8=f.prototype.writeUInt8,e.prototype.writeUInt16LE=f.prototype.writeUInt16LE,e.prototype.writeUInt16BE=f.prototype.writeUInt16BE,e.prototype.writeUInt32LE=f.prototype.writeUInt32LE,e.prototype.writeUInt32BE=f.prototype.writeUInt32BE,e.prototype.writeInt8=f.prototype.writeInt8,e.prototype.writeInt16LE=f.prototype.writeInt16LE,e.prototype.writeInt16BE=f.prototype.writeInt16BE,e.prototype.writeInt32LE=f.prototype.writeInt32LE,e.prototype.writeInt32BE=f.prototype.writeInt32BE,e.prototype.writeFloatLE=f.prototype.writeFloatLE,e.prototype.writeFloatBE=f.prototype.writeFloatBE,e.prototype.writeDoubleLE=f.prototype.writeDoubleLE,e.prototype.writeDoubleBE=f.prototype.writeDoubleBE}()},{assert:31,"./buffer_ieee754":34,"base64-js":35}],36:[function(t,e){var r=e.exports={};r.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var r=[];return window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],33:[function(t,e,r){!function(t){function e(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0;r<t.length;r++)if(e===t[r])return r;return-1}t.EventEmitter||(t.EventEmitter=function(){});var n=r.EventEmitter=t.EventEmitter,o="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=10;n.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},n.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var r=Array.prototype.slice.call(arguments,1);e.apply(this,r)}return!0}if(o(e)){for(var r=Array.prototype.slice.call(arguments,1),n=e.slice(),i=0,s=n.length;s>i;i++)n[i].apply(this,r);return!0}return!1},n.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(o(this._events[t])){if(!this._events[t].warned){var r;r=void 0!==this._events.maxListeners?this._events.maxListeners:i,r&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){var r=this;return r.on(t,function n(){r.removeListener(t,n),e.apply(this,arguments)}),this},n.prototype.removeListener=function(t,r){if("function"!=typeof r)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(o(n)){var i=e(n,r);if(0>i)return this;n.splice(i,1),0==n.length&&delete this._events[t]}else this._events[t]===r&&delete this._events[t];return this},n.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},n.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]}}(t("__browserify_process"))},{__browserify_process:36}],30:[function(t,e){"use strict";var r=t("./configuration-service"),n=t("../transport/http-transport-factory");e.exports=function(t){var e={userId:"",groupId:"",transport:{}},o=$.extend({},e,t),i=new r(o).get("server"),s=$.extend(!0,{},o.transport,{url:i.getAPIPath("member/local")}),a=new n(s),u={getGroupsByUser:function(t){var e=$.extend(!0,o,t);if(!e.userId)throw new Error("No userId specified.");var r={userId:e.userId};return a.get(r,e)},getGroupDetails:function(t){var e=$.extend(!0,o,s,t);if(!e.groupId)throw new Error("No groupId specified.");var r="/"===e.url.slice(-1)?"":"/";e.url=e.url+r+e.groupId;var n={};return a.get(n,e)}};$.extend(this,u)}},{"./configuration-service":9,"../transport/http-transport-factory":6}],35:[function(t,e){!function(){"use strict";function t(t){var e,r,o,i,s,a;if(t.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(s=t.indexOf("="),s=s>0?t.length-s:0,a=[],o=s>0?t.length-4:t.length,e=0,r=0;o>e;e+=4,r+=3)i=n.indexOf(t[e])<<18|n.indexOf(t[e+1])<<12|n.indexOf(t[e+2])<<6|n.indexOf(t[e+3]),a.push((16711680&i)>>16),a.push((65280&i)>>8),a.push(255&i);return 2===s?(i=n.indexOf(t[e])<<2|n.indexOf(t[e+1])>>4,a.push(255&i)):1===s&&(i=n.indexOf(t[e])<<10|n.indexOf(t[e+1])<<4|n.indexOf(t[e+2])>>2,a.push(i>>8&255),a.push(255&i)),a}function r(t){function e(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}var r,o,i,s=t.length%3,a="";for(r=0,i=t.length-s;i>r;r+=3)o=(t[r]<<16)+(t[r+1]<<8)+t[r+2],a+=e(o);switch(s){case 1:o=t[t.length-1],a+=n[o>>2],a+=n[o<<4&63],a+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],a+=n[o>>10],a+=n[o>>4&63],a+=n[o<<2&63],a+="="}return a}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.exports.toByteArray=t,e.exports.fromByteArray=r}()},{}],27:[function(t,e){e.exports={"new-if-initialized":t("./new-if-initialized-strategy"),"new-if-persisted":t("./new-if-persisted-strategy"),"new-if-missing":t("./new-if-missing-strategy"),"always-new":t("./always-new-strategy")}},{"./new-if-initialized-strategy":23,"./new-if-persisted-strategy":22,"./new-if-missing-strategy":21,"./always-new-strategy":18}]},{},[1]);